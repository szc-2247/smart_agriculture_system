# 智农兴商——基于 Deepseek 互动式输出的数智农链振兴系统

## 一、系统概述
本系统旨在为农业生产和乡村振兴提供全方位的支持和服务，集成了天气预报、种子查询、农产品价格查询、土壤湿度监测、农作物疾病识别、对话交互、农产品溯源等多个功能模块。通过该系统，用户可以方便地获取各种农业相关信息，辅助农业生产决策，提升农业生产效率和质量。

## 二、功能模块介绍
1. **用户认证模块**：提供用户注册和登录功能，确保系统的安全性和用户数据的私密性。注册时对密码有一定的格式要求，需包含数字、大写字母、小写字母和特殊字符（!@#$%^&*()），且长度在 8 到 20 个字符之间。
2. **天气预报模块**：能够获取并展示当天和未来 7 天的天气数据，包括温度、风力方向、风级、降水量、相对湿度、空气质量等信息，帮助用户合理安排农事活动。
3. **种子查询模块**：用户可以通过点击预设的种子按钮或手动输入种子名称，查询种子的特性和种植建议。系统还提供了种子信息表格，展示常见种子品种及其对应种子。
4. **农产品价格查询模块**：支持用户选择农作物种类，并设置价格区间进行检索。同时，用户可以通过 DeepSeek 分析功能，获取关于农作物价格趋势、波动情况以及与市场关系的分析建议。
5. **土壤湿度监测模块**：实时显示当前土壤相对湿度，并以进度条形式展示。用户可以查看历史土壤湿度数据图表，了解土壤湿度的变化趋势。此外，系统还提供了土壤湿度和光照强度等数据的表格展示。
6. **农作物疾病识别模块**：用户可以上传农作物图片进行疾病识别，系统会模拟识别结果并展示，同时提供针对该疾病的防治措施。用户也可以手动输入疾病名称，查询关于该疾病的更多信息和防治建议。
7. **对话交互模块**：用户可以与名为“小农”的农业专家助手进行对话，获取农业小贴士、天气分析、农事提醒等信息。系统支持发送自定义消息，保存和加载聊天记录，以及添加农事提醒等功能。
8. **农产品溯源模块**：用户可以通过手动输入溯源代码或上传条形码图片，查询农产品的溯源地址。系统提供了溯源信息表格，展示已有的溯源码和对应的溯源地。

## 三、使用方法
1. **运行系统**：确保所有依赖库已安装，运行主程序文件（可能是包含 `start_main()` 函数调用的文件），启动系统。
2. **用户认证**：首次使用需进行注册，按照系统提示输入账号和符合要求的密码。注册成功后，使用注册的账号和密码进行登录。
3. **功能使用**：
    - 登录成功后，进入系统主界面，通过顶部的搜索栏可以进行网页搜索。
    - 在主界面的 Notebook 中，选择不同的标签页，进入相应的功能模块，按照各模块的提示进行操作。

## 四、安装依赖
确保已安装以下 Python 库：
- `tkinter`：用于创建图形用户界面。
- `openai`：用于调用 DeepSeek API 进行对话和分析。
- `requests`：用于发送 HTTP 请求获取天气数据等。
- `BeautifulSoup`：用于解析 HTML 页面获取天气数据。
- `json`：用于处理 JSON 格式的数据。
- `matplotlib`：用于绘制图表展示土壤湿度历史数据等。
- `pandas`：用于读取和处理数据文件（如 dirt.txt、price.txt 等）。
- `PIL`（Python Imaging Library）：用于处理图片，如显示 logo、上传的农作物图片等。
- `tkcalendar`：用于选择日期（如添加农事提醒时）。
- `ttk`（Themed Tkinter）：用于创建更美观的图形组件。
- `pyzbar`：用于解码条形码（农产品溯源模块）。
- `geocoder`：用于获取当前位置信息。
- `socket`：用于获取当前登录 IP 信息。

可以使用 `pip` 命令安装这些库，例如：`pip install openai requests beautifulsoup4 json matplotlib pandas pillow tkcalendar ttkthemes pyzbar geocoder`。

## 五、注意事项
1. **API 密钥**：系统中使用了 DeepSeek API，需确保 `DEEPSEEK_API_KEY` 配置正确，否则相关功能可能无法正常使用。
2. **文件路径**：系统依赖一些数据文件（如 accounts.txt、weather1.txt、weather7.txt、dirt.txt、seed.txt、price.txt、willdo.txt、message.txt 等），请确保这些文件存在且路径正确。若文件不存在，系统可能会自动创建（如 accounts.txt），但部分功能可能受到影响。
3. **网络连接**：获取天气数据、调用 DeepSeek API 等功能需要网络连接，请确保网络正常。
4. **数据准确性**：模拟识别结果、随机生成的土壤湿度数据等仅为示例，实际使用中可能需要结合真实的传感器数据和专业的识别算法来提高数据的准确性。
